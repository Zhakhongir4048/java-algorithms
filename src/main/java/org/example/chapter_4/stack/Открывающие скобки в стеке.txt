Программа поиска парных скобок последовательно читает символы строки и заносит обнаруженные
открывающие скобки в стек. Обнаружив во входных данных закрывающую скобку, она извлекает верхний элемент
из стека и проверяет его на соответствие закрывающей скобке. Если они относятся к разным типам (скажем,
открывающая фигурная скобка с закрывающей круглой скобкой), происходит ошибка.
Кроме того, если в стеке нет открывающей скобки, парной по отношению к закрывающей, или если для
какой-то скобки в конечном итоге не нашлось пары, происходит ошибка. Найти непарный ограничитель несложно —
он остается в стеке после того, как будут прочитаны все символы в строке.
Давайте посмотрим, как будет заполняться стек для типичной синтаксически
правильной строки:
a{b(c[d]e)f}
В таблице показано, как выглядит стек при чтении очередного символа из
строки. Во втором столбце приводится содержимое стека (вершина справа).
В процессе чтения строки каждая открывающая скобка помещается в стек.
Каждая закрывающая скобка, прочитанная из входных данных, сопоставляется с открывающей скобкой, извлеченной с вершины стека. Если они образуют
пару — все хорошо. В стек заносятся только скобки; все остальные символы просто
игнорируются.
Такое решение работает, так как пара скобок, открытая последней, будет закрыта
первой — стоит напомнить, что стек работает по принципу LIFO.
